import 'package:hive/hive.dart';
import '../../features/trips/data/models/waypoint_model.dart';
import '../../features/trips/data/models/location_model.dart';
import '../../features/trips/domain/entities/waypoint_entity.dart';

/// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
/// ๐ WaypointModelAdapter - ุงููุญููู ุงูุฎุงุต ุจุชุฎุฒูู ูุงุณุชุฑุฌุงุน ุงูููุงุท ุงููุณูุทุฉ
/// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
/// 
/// ๐ฏ ุงููููุน ูู Clean Architecture:
/// - ุงูุทุจูุฉ: Core Layer > Adapters
/// - ุงููุธููุฉ: ุชุญููู WaypointModel (ููุทุฉ ูุณูุทุฉ ุนูู ุงููุณุงุฑ) ูู/ุฅูู Binary
/// 
/// ๐ ูุง ูู Waypointุ
/// Waypoint ูู "ุฏุจูุณ" ุชุถุนู ุนูู ุงูุฎุฑูุทุฉ ุถูู ูุณุงุฑู:
/// - ููุทุฉ ุงูุจุฏุงูุฉ (Start)
/// - ููุทุฉ ุงูููุงูุฉ (End)
/// - ููุงุท ูุณูุทุฉ (Intermediate): ูุญุทุงุช ุฑุงุญุฉุ ูุทุงุนูุ ุฃูุงูู ูููุฉ
/// 
/// ๐ก ูุซุงู ุชูุถูุญู:
/// ูููุชุฑุถ ุฃูู ุชุฎุทุท ูุฑุญูุฉ ูู ุงูุฑูุงุถ ุฅูู ุฌุฏุฉ:
/// 
/// ๐บ๏ธ ุงููุณุงุฑ:
/// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
/// โ ๐ Start: ุงูุฑูุงุถ (ุจูุชู)                                 โ
/// โ   โ                                                      โ
/// โ ๐ Intermediate: ูุญุทุฉ ุฑุงุญุฉ ูู ุจุฑูุฏุฉ                     โ
/// โ   โ                                                      โ
/// โ ๐ Intermediate: ูุทุนู ูู ุงููุฏููุฉ ุงููููุฑุฉ                โ
/// โ   โ                                                      โ
/// โ ๐ End: ุฌุฏุฉ (ููุฏู)                                      โ
/// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
/// 
/// ูู "ุฏุจูุณ" ูู ูุฐุง ุงููุณุงุฑ = Waypoint
/// 
/// ๐ข typeId = 3:
/// - ุฑูู ูุฑูุฏ ูู WaypointModel ูู Hive
/// - ูุฎุชูู ุนู Location (typeId = 4) ุฑุบู ุงูุชุดุงุจู
/// 
/// ๐ค ููุงุฐุง Waypoint ูููุตู ุนู Locationุ
/// - Location = "ููุทุฉ GPS ุจุณูุทุฉ" (latitude, longitude, timestamp)
/// - Waypoint = Location + ูุนูููุงุช ุฅุถุงููุฉ:
///   * ุงุณู ุงูููุทุฉ (ูุซูุงู: "ูุญุทุฉ ุฑุงุญุฉ ุงูุนุซูู")
///   * ููุนูุง (ุจุฏุงูุฉุ ููุงูุฉุ ูุณูุทุฉุ)
///   * ุชุฑุชูุจูุง ูู ุงููุณุงุฑ (ุงูุฃูููุ ุงูุซุงููุฉุ ุฅูุฎ)
///   * ุงูููุช ุงููุชููุน ูููุตูู
/// 
/// ๐ ุจููุฉ WaypointModel:
/// WaypointModel {
///   id: "waypoint_123",               // ูุนุฑูู ูุฑูุฏ
///   location: LocationModel(...),     // ุงููููุน ุงูุฌุบุฑุงูู
///   name: "ูุญุทุฉ ุฑุงุญุฉ ุงูุนุซูู",         // ุงุณู ุงุฎุชูุงุฑู
///   order: 1,                         // ุงูุชุฑุชูุจ (0ุ 1ุ 2ุ ...)
///   type: WaypointType.intermediate,  // ุงูููุน
///   estimatedArrival: DateTime(...)   // ุงูููุช ุงููุชููุน ูููุตูู
/// }

class WaypointModelAdapter extends TypeAdapter<WaypointModel> {
  /// ๐ข typeId: ุฑูู ุงูุชุนุฑูู ุงููุฑูุฏ
  /// - 0 = UserModel
  /// - 1 = RouteModel
  /// - 2 = TripModel
  /// - 3 = WaypointModel โ (ุงุญูุง ููุง!)
  /// - 4 = LocationModel
  /// - 5-9 = Models ุฃุฎุฑู
  @override
  final int typeId = 3;

  /// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  /// ๐ read() - ูุฑุงุกุฉ WaypointModel ูู Hive
  /// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  /// 
  /// ๐ฏ ูุชู ุชูุณุชุฏุนูุ
  /// - ุนูุฏ ูุฑุงุกุฉ ูุณุงุฑ (Route) ูู Hive
  /// - ุนูุฏ ุนุฑุถ ุชูุงุตูู ูุณุงุฑ ูููุณุชุฎุฏู
  /// - ุนูุฏ ุงูุชุฎุทูุท ูุฑุญูุฉ ุฌุฏูุฏุฉ
  /// 
  /// ๐ ุงูุฎุทูุงุช:
  /// 1. ูุฑุงุกุฉ ุนุฏุฏ ุงูุญููู (6 ุญููู)
  /// 2. ูุฑุงุกุฉ ูู ุญูู ุนูู ุญุฏุฉ
  /// 3. ุจูุงุก LocationModel ูู ุงูุจูุงูุงุช ุงูููุฑูุกุฉ (ูุฐุง ุงูุญูู ูุนูุฏ!)
  /// 4. ุฅูุดุงุก WaypointModel
  /// 
  /// โ๏ธ ููุทุฉ ูููุฉ:
  /// Waypoint ูุญุชูู ุนูู LocationModel ุจุฏุงุฎูู!
  /// ูุฐุง ูุญุชุงุฌ "ุชุญููู ูุฒุฏูุฌ":
  /// Binary โ Map โ LocationModel โ WaypointModel
  @override
  WaypointModel read(BinaryReader reader) {
    /// 1๏ธโฃ ููุฑุฃ ุนุฏุฏ ุงูุญููู (6 ุญููู)
    final numOfFields = reader.readByte();
    
    /// 2๏ธโฃ ูุฌูุน ุงูุจูุงูุงุช ูู Map
    final fields = <int, dynamic>{
      for (int i = 0; i < numOfFields; i++) reader.readByte(): reader.read(),
    };

    /// 3๏ธโฃ ูููุดุฆ LocationModel ูู Field 1
    /// ูุฐุง ุงูุฌุฒุก ููู! ูุญุชุงุฌ ุชุญููู Map โ LocationModel
    /// 
    /// ๐ก ุดุฑุญ:
    /// - fields[1] ูู Map ูุญุชูู ุนูู ุจูุงูุงุช Location
    /// - ูุญููู ูู Map (dynamic) โ Map<String, dynamic>
    /// - ุซู ูููุดุฆ LocationModel ูู ูุฐุง ุงูู Map
    final locationData = fields[1] as Map;
    final location = LocationModel(
      latitude: locationData['latitude'] as double,
      longitude: locationData['longitude'] as double,
      altitude: locationData['altitude'] as double?,
      accuracy: locationData['accuracy'] as double?,
      timestamp: DateTime.parse(locationData['timestamp'] as String),
      address: locationData['address'] as String?,
    );

    /// 4๏ธโฃ ูููุดุฆ WaypointModel ูู ุฌููุน ุงูุจูุงูุงุช
    /// 
    /// ๐ ุดุฑุญ ูู ุญูู:
    return WaypointModel(
      /// Field 0: ูุนุฑูู ุงูููุทุฉ ุงููุณูุทุฉ
      /// - ูุฑูุฏ ููู waypoint
      /// - ูุซุงู: "waypoint_start_route123"
      id: fields[0] as String,
      
      /// Field 1: ุงููููุน ุงูุฌุบุฑุงูู
      /// - LocationModel ูุงูู (latitude, longitude, ุฅูุฎ)
      /// - ุจูููุงู ูู ุงูููุฏ ุฃุนูุงู
      location: location,
      
      /// Field 2: ุงุณู ุงูููุทุฉ (ุงุฎุชูุงุฑู)
      /// - ุงูุงุณู "ุงูุจุดุฑู" ุงูุฐู ูุฑุงู ุงููุณุชุฎุฏู
      /// - ุฃูุซูุฉ:
      ///   * "ุจูุชู"
      ///   * "ูุญุทุฉ ุฑุงุญุฉ ุงูุนุซูู"
      ///   * "ูุทุนู ุงูุจูู"
      ///   * "ููุชุจ ุงูุดุฑูุฉ"
      /// - ูููู ุฃู ูููู null ุฅุฐุง ูู ูุถุน ุงููุณุชุฎุฏู ุงุณู
      name: fields[2] as String?,
      
      /// Field 3: ุชุฑุชูุจ ุงูููุทุฉ ูู ุงููุณุงุฑ
      /// - ุฑูู ุตุญูุญ ูุจุฏุฃ ูู 0
      /// - ูุซุงู ูู ูุณุงุฑ ุจู 4 ููุงุท:
      ///   * ุงูุจุฏุงูุฉ: order = 0
      ///   * ููุทุฉ ูุณูุทุฉ 1: order = 1
      ///   * ููุทุฉ ูุณูุทุฉ 2: order = 2
      ///   * ุงูููุงูุฉ: order = 3
      /// 
      /// ๐ก ูุงุฆุฏุฉ ุงูุชุฑุชูุจ:
      /// ุนูุฏ ุฑุณู ุงููุณุงุฑ ุนูู ุงูุฎุฑูุทุฉุ ูุฑุชุจ ุงูููุงุท ุญุณุจ order
      /// ููุฑุณู ุงูุฎุท ุจุงูุชุณูุณู ุงูุตุญูุญ
      order: fields[3] as int,
      
      /// Field 4: ููุน ุงูููุทุฉ (Enum)
      /// - ูุญููุธ ูู int (index ุงูู Enum)
      /// - ูุญููู ูู int โ WaypointType
      /// 
      /// ๐ ุฃููุงุน WaypointType:
      /// - start (0): ููุทุฉ ุงูุจุฏุงูุฉ
      /// - intermediate (1): ููุทุฉ ูุณูุทุฉ
      /// - end (2): ููุทุฉ ุงูููุงูุฉ
      /// 
      /// ูุซุงู:
      /// fields[4] = 1 โ WaypointType.intermediate
      type: WaypointType.values[fields[4] as int],
      
      /// Field 5: ุงูููุช ุงููุชููุน ูููุตูู (ุงุฎุชูุงุฑู)
      /// - ูุชู ูุชููุน ุฃู ูุตู ุงููุณุชุฎุฏู ููุฐู ุงูููุทุฉุ
      /// - ูุญููุธ ูู Stringุ ูุญููู ูู DateTime
      /// - ูุซุงู: "2024-01-15T14:30:00.000Z" (ุงูุณุงุนุฉ 2:30 ูุณุงุกู)
      /// 
      /// ๐ก ูุงุฆุฏุชู:
      /// - ุนุฑุถ "ุงููุตูู ุงููุชููุน" ูููุณุชุฎุฏู
      /// - ุฅุฑุณุงู ุชูุจูู ุฅุฐุง ุชุฃุฎุฑ ุนู ุงูููุนุฏ ุงููุชููุน
      /// - ุญุณุงุจ ุงูููุช ุงููุชุจูู
      /// 
      /// ูููู ุฃู ูููู null ููููุงุท ุงููุณูุทุฉ ุบูุฑ ุงููููุฉ
      estimatedArrival: fields[5] != null 
          ? DateTime.parse(fields[5] as String) 
          : null,
    );
  }

  /// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  /// ๐พ write() - ุญูุธ WaypointModel ูู Hive
  /// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  /// 
  /// ๐ฏ ูุชู ุชูุณุชุฏุนูุ
  /// - ุนูุฏ ุฅูุดุงุก ูุณุงุฑ ุฌุฏูุฏ (ุญูุธ ุงูุจุฏุงูุฉ ูุงูููุงูุฉ)
  /// - ุนูุฏ ุฅุถุงูุฉ ููุทุฉ ูุณูุทุฉ ููุณุงุฑ ููุฌูุฏ
  /// - ุนูุฏ ุชุนุฏูู ูุนูููุงุช waypoint (ูุซูุงู ุชุบููุฑ ุงูุงุณู)
  /// - ุนูุฏ ุญูุธ Route ูุงูู (ูุญุชูู ุนูู ุนุฏุฉ waypoints)
  /// 
  /// ๐ ุงูุฎุทูุงุช:
  /// 1. ุชุญููู LocationModel โ Map (ูุฃู Hive ูุง ุชุนุฑู ููู ุชุญูุธู ูุจุงุดุฑุฉ)
  /// 2. ูุชุงุจุฉ ุนุฏุฏ ุงูุญููู (6)
  /// 3. ูุชุงุจุฉ ูู ุญูู ุจููุณ ุชุฑุชูุจ read()
  /// 
  /// โ๏ธ ููุทุฉ ุญุฑุฌุฉ:
  /// Location ุฏุงุฎู Waypoint ูุฌุจ ุชุญูููู ูู Map ูุฏููุงู!
  /// ูุง ูููููุง ูุชุงุจุฉ LocationModel ูุจุงุดุฑุฉ ูู Hive
  @override
  void write(BinaryWriter writer, WaypointModel obj) {
    /// 1๏ธโฃ ุชุญููู LocationModel ุฅูู Map
    /// ูุฐุง ุถุฑูุฑู ูุฃู Hive ูุง ุชููู ููู ุชุญูุธ LocationModel ูุจุงุดุฑุฉ
    /// (ุฑุบู ุฃู ูุฏููุง LocationAdapterุ ููู ููุง ุฏุงุฎู ูุงุฆู ุขุฎุฑ!)
    /// 
    /// ๐ก ุงูุจุฏูู ุงููุนูุฏ (ูุง ูุณุชุฎุฏูู):
    /// ูููููุง ุงุณุชุฎุฏุงู LocationAdapter.write() ูุจุงุดุฑุฉุ
    /// ููู ูุฐุง ุฃุจุทุฃ ูุฃุตุนุจ ูู ุงูุตูุงูุฉ
    final locationMap = {
      'latitude': obj.location.latitude,
      'longitude': obj.location.longitude,
      'altitude': obj.location.altitude,
      'accuracy': obj.location.accuracy,
      'timestamp': obj.location.timestamp.toIso8601String(),
      'address': obj.location.address,
    };

    writer
      /// 2๏ธโฃ ููุชุจ ุนุฏุฏ ุงูุญููู (6 ุญููู)
      ..writeByte(6)
      
      /// 3๏ธโฃ Field 0: ุงููุนุฑูู
      ..writeByte(0)
      ..write(obj.id)
      
      /// 4๏ธโฃ Field 1: ุงููููุน ุงูุฌุบุฑุงูู
      /// ููุชุจู ูู Map (ุญูููุงู ูู ุงูููุฏ ุฃุนูุงู)
      /// 
      /// ๐ก ููุงุฐุง Map ูููุณ LocationModel ูุจุงุดุฑุฉุ
      /// ูุฃู Hive ุชุญุชุงุฌ "ุจูุงูุงุช ุจุณูุทุฉ" (int, double, String, Map)
      /// ููุง ุชููู ุงููุงุฆูุงุช ุงููุนูุฏุฉ ูุจุงุดุฑุฉ ุฅูุง ุนุจุฑ Adapter ุฎุงุต ุจูุง
      ..writeByte(1)
      ..write(locationMap)
      
      /// 5๏ธโฃ Field 2: ุงุณู ุงูููุทุฉ (ุงุฎุชูุงุฑู)
      ..writeByte(2)
      ..write(obj.name)
      
      /// 6๏ธโฃ Field 3: ุชุฑุชูุจ ุงูููุทุฉ
      /// ุฑูู ุตุญูุญ ุจุณูุท
      ..writeByte(3)
      ..write(obj.order)
      
      /// 7๏ธโฃ Field 4: ููุน ุงูููุทุฉ
      /// ูุญูู WaypointType Enum โ int (index)
      /// 
      /// ๐ก ุดุฑุญ ุงูุชุญููู:
      /// - WaypointType.start โ 0
      /// - WaypointType.intermediate โ 1
      /// - WaypointType.end โ 2
      /// 
      /// ูุณุชุฎุฏู .index ููุญุตูู ุนูู ุงูุฑูู
      ..writeByte(4)
      ..write(obj.type.index)
      
      /// 8๏ธโฃ Field 5: ุงูููุช ุงููุชููุน ูููุตูู (ุงุฎุชูุงุฑู)
      /// ุฅุฐุง ูุงู nullุ Hive ุชุญูุธู ูู null ุชููุงุฆูุงู
      /// ูุฅูุง ูุญููู ูู DateTime โ String
      ..writeByte(5)
      ..write(obj.estimatedArrival?.toIso8601String());
  }
}

/// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
/// ๐ ูุนูููุงุช ุชุนููููุฉ ูููุจุชุฏุฆูู:
/// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
/// 
/// ๐ ุงููุฑู ุจูู Location ู Waypoint:
/// โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโ
/// โ    ุงูุฎุงุตูุฉ      โ    Location      โ    Waypoint      โ
/// โโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโค
/// โ ุงูุชุนุฑูู         โ ููุทุฉ GPS ุจุณูุทุฉ   โ ููุทุฉ + ูุนูููุงุช  โ
/// โ ุงูุงุณุชุฎุฏุงู       โ ุชุณุฌูู ุงูุญุฑูุฉ     โ ุงูุชุฎุทูุท ูููุณุงุฑ   โ
/// โ ุงูุงุณู           โ ูุง ููุฌุฏ          โ ุงุฎุชูุงุฑู          โ
/// โ ุงูุชุฑุชูุจ         โ ูุง ููุฌุฏ          โ ููุฌูุฏ (order)    โ
/// โ ุงูููุน           โ ูุง ููุฌุฏ          โ ููุฌูุฏ (type)     โ
/// โ ุงููุตูู ุงููุชููุน  โ ูุง ููุฌุฏ          โ ููุฌูุฏ            โ
/// โ ุงูุชูุฑุงุฑ         โ ุขูุงู ุงููุฑุงุช      โ ูููู (4-10)      โ
/// โโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโ
/// 
/// ๐ก ูุซุงู ุนููู ูุงูู:
/// ```dart
/// // ุฅูุดุงุก ูุณุงุฑ ูู ุงูุจูุช ููุนูู
/// 
/// // ููุทุฉ ุงูุจุฏุงูุฉ (ุจูุชู)
/// final startWaypoint = WaypointModel(
///   id: 'start_1',
///   location: LocationModel(
///     latitude: 24.7136,
///     longitude: 46.6753,
///     timestamp: DateTime.now(),
///     address: 'ุญู ุงููุฎููุ ุงูุฑูุงุถ'
///   ),
///   name: 'ุจูุชู',
///   order: 0,
///   type: WaypointType.start,
/// );
/// 
/// // ููุทุฉ ูุณูุทุฉ (ูุญุทุฉ ุจูุฒูู)
/// final gasStationWaypoint = WaypointModel(
///   id: 'intermediate_1',
///   location: LocationModel(
///     latitude: 24.7500,
///     longitude: 46.7000,
///     timestamp: DateTime.now(),
///     address: 'ูุญุทุฉ ุงุฑุงูููุ ุทุฑูู ุงูููู ููุฏ'
///   ),
///   name: 'ูุญุทุฉ ุจูุฒูู',
///   order: 1,
///   type: WaypointType.intermediate,
///   estimatedArrival: DateTime.now().add(Duration(minutes: 15)),
/// );
/// 
/// // ููุทุฉ ุงูููุงูุฉ (ููุชุจ ุงูุดุฑูุฉ)
/// final endWaypoint = WaypointModel(
///   id: 'end_1',
///   location: LocationModel(
///     latitude: 24.7800,
///     longitude: 46.7200,
///     timestamp: DateTime.now(),
///     address: 'ุจุฑุฌ ุงูููุตููุฉุ ุงูุฑูุงุถ'
///   ),
///   name: 'ููุชุจ ุงูุดุฑูุฉ',
///   order: 2,
///   type: WaypointType.end,
///   estimatedArrival: DateTime.now().add(Duration(minutes: 30)),
/// );
/// 
/// // ุงูุขู ุนูุฏูุง 3 waypoints ุชุดูู ุงููุณุงุฑ ุงููุงูู!
/// ```
/// 
/// ๐ฏ ุงุณุชุฎุฏุงูุงุช Waypoint ูู ุงูุชุทุจูู:
/// 
/// 1๏ธโฃ ุฑุณู ุงููุณุงุฑ ุนูู ุงูุฎุฑูุทุฉ:
///    - ููุฑ ุนูู ุฌููุน waypoints ุญุณุจ order
///    - ูุฑุณู ุฎุทูุท ุจูููุง
/// 
/// 2๏ธโฃ ุญุณุงุจ ุงููุณุงูุฉ ูุงูููุช:
///    - ุงููุณุงูุฉ = ูุฌููุน ุงููุณุงูุงุช ุจูู ูู waypoint ูุงูุชุงููุฉ
///    - ุงูููุช = ุงููุฑู ุจูู estimatedArrival ููุจุฏุงูุฉ ูุงูููุงูุฉ
/// 
/// 3๏ธโฃ ุงูุชูุจููุงุช:
///    - ุนูุฏูุง ููุชุฑุจ ุงููุณุชุฎุฏู ูู waypoint ูุณูุทุฉุ ูุฑุณู ุชูุจูู
///    - "ุฃูุช ุนูู ุจุนุฏ 500 ูุชุฑ ูู ูุญุทุฉ ุงูุจูุฒูู"
/// 
/// 4๏ธโฃ ุงูุชุชุจุน:
///    - ูุชุญูู: ูู ุงููุณุชุฎุฏู ูุง ูุฒุงู ูุชุจุน ุงูู waypoints ุจุงูุชุฑุชูุจุ
///    - ุฅุฐุง ุฎุฑุฌ ุนู ุงูุชุฑุชูุจ โ ุชูุจูู ุงูุญุฑุงู
/// 
/// โ๏ธ ุฃุฎุทุงุก ุดุงุฆุนุฉ:
/// 
/// 1๏ธโฃ ูุณูุงู ุชุฑุชูุจ order:
///    โ ุฎุทุฃ: ูู waypoints ููุง order = 0
///    โ ุตุญูุญ: order = 0, 1, 2, 3, ...
/// 
/// 2๏ธโฃ ุฎูุท type:
///    โ ุฎุทุฃ: ูู waypoints ูู ููุน intermediate
///    โ ุตุญูุญ: ุฃูู ูุงุญุฏุฉ startุ ุขุฎุฑ ูุงุญุฏุฉ end
/// 
/// 3๏ธโฃ ุนุฏู ุญูุธ locationMap ุจุดูู ุตุญูุญ:
///    โ ุฎุทุฃ: ูุชุงุจุฉ obj.location ูุจุงุดุฑุฉ (ูู ูุนูู!)
///    โ ุตุญูุญ: ุชุญูููู ูู Map ุฃููุงู
/// 
/// 4๏ธโฃ ูุณูุงู estimatedArrival:
///    - ููุณ ุฎุทุฃ ูุงุฏุญุ ููู ูุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
///    - ุงููุณุชุฎุฏู ูุญุจ ูุนุฑู ูุชู ุฑุงุญ ููุตู!
/// 
/// ๐ก ูุตูุญุฉ ุงุญุชุฑุงููุฉ:
/// ุนูุฏ ุฅูุดุงุก Routeุ ุงุณุชุฎุฏู ุฎุฏูุฉ Directions API (ูุซู Google Maps)
/// ูุญุณุงุจ estimatedArrival ุชููุงุฆูุงู ุจูุงุกู ุนูู:
/// - ุงููุณุงูุฉ ุจูู ุงูููุงุท
/// - ูุชูุณุท ุงูุณุฑุนุฉ ุนูู ุงูุทุฑูู
/// - ุญุงูุฉ ุงููุฑูุฑ (Traffic)
/// โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
